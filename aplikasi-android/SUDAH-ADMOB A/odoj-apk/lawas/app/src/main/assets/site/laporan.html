<!DOCTYPE html>
<html>
<head>
	<title>30 Hari 30 Juz</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/zen/style.css">
	<script type="text/javascript" src="vendor/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="vendor/dexie/dexie.js"></script>
	<script type="text/javascript" src="vendor/zen/app.js"></script>
</head>
<body>
	<div class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">30 Hari 30 Juz</a>
			</div>
		</div>
	</div>
	<div class="container"><h3 class="sekarang"></h3>
<form action="" class="form-laporan">
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_1"> Juz 1</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_2"> Juz 2</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_3"> Juz 3</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_4"> Juz 4</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_5"> Juz 5</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_6"> Juz 6</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_7"> Juz 7</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_8"> Juz 8</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_9"> Juz 9</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_10"> Juz 10</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_11"> Juz 11</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_12"> Juz 12</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_13"> Juz 13</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_14"> Juz 14</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_15"> Juz 15</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_16"> Juz 16</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_17"> Juz 17</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_18"> Juz 18</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_19"> Juz 19</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_20"> Juz 20</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_21"> Juz 21</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_22"> Juz 22</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_23"> Juz 23</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_24"> Juz 24</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_25"> Juz 25</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_26"> Juz 26</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_27"> Juz 27</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_28"> Juz 28</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_29"> Juz 29</label></div>
	<div class="checkbox"><label><input type="checkbox" name="" id="" class="cek juz_30"> Juz 30</label></div>
	<input type="submit" value="Oke" class="sembunyi submit-laporan">
</form>

<div class="navbar navbar-default navbar-fixed-bottom">
	<div class="container">
		<table class="table table-bordered">
			<tbody>
				<tr>
					<td>
						<div class="btn btn-success oke-laporan">Oke</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>

<script type="text/javascript">
	$('.sekarang').html(bulan_dan_tahun)
	$('.cek').attr('data-sekarang', bulan_dan_tahun)
	$('.oke-laporan').click(() => $('.submit-laporan').click())
	!localStorage.bulan_dan_tahun ? localStorage.setItem('bulan_dan_tahun', JSON.stringify([])) : ''
	semua_bulan_dan_tahun = JSON.parse(localStorage.bulan_dan_tahun)

	if (semua_bulan_dan_tahun.indexOf(bulan_dan_tahun) != -1){
		odoj.data.where({
			bulan_dan_tahun: bulan_dan_tahun
		}).each(x => {
			$('.juz_1').attr('checked', x.juz_1)
			$('.juz_2').attr('checked', x.juz_2)
			$('.juz_3').attr('checked', x.juz_3)
			$('.juz_4').attr('checked', x.juz_4)
			$('.juz_5').attr('checked', x.juz_5)
			$('.juz_6').attr('checked', x.juz_6)
			$('.juz_7').attr('checked', x.juz_7)
			$('.juz_8').attr('checked', x.juz_8)
			$('.juz_9').attr('checked', x.juz_9)
			$('.juz_10').attr('checked', x.juz_10)
			$('.juz_11').attr('checked', x.juz_11)
			$('.juz_12').attr('checked', x.juz_12)
			$('.juz_13').attr('checked', x.juz_13)
			$('.juz_14').attr('checked', x.juz_14)
			$('.juz_15').attr('checked', x.juz_15)
			$('.juz_16').attr('checked', x.juz_16)
			$('.juz_17').attr('checked', x.juz_17)
			$('.juz_18').attr('checked', x.juz_18)
			$('.juz_19').attr('checked', x.juz_19)
			$('.juz_20').attr('checked', x.juz_20)
			$('.juz_21').attr('checked', x.juz_21)
			$('.juz_22').attr('checked', x.juz_22)
			$('.juz_23').attr('checked', x.juz_23)
			$('.juz_24').attr('checked', x.juz_24)
			$('.juz_25').attr('checked', x.juz_25)
			$('.juz_26').attr('checked', x.juz_26)
			$('.juz_27').attr('checked', x.juz_27)
			$('.juz_28').attr('checked', x.juz_28)
			$('.juz_29').attr('checked', x.juz_29)
			$('.juz_30').attr('checked', x.juz_30)
		})
	}

	$('.form-laporan').on('submit', x => {
		x.preventDefault()
		if (semua_bulan_dan_tahun.indexOf(bulan_dan_tahun) != -1){
			odoj.data.where({
				bulan_dan_tahun: bulan_dan_tahun
			}).modify({
				juz_1: $('.juz_1').is(':checked') ? true : false,
				juz_2: $('.juz_2').is(':checked') ? true : false,
				juz_3: $('.juz_3').is(':checked') ? true : false,
				juz_4: $('.juz_4').is(':checked') ? true : false,
				juz_5: $('.juz_5').is(':checked') ? true : false,
				juz_6: $('.juz_6').is(':checked') ? true : false,
				juz_7: $('.juz_7').is(':checked') ? true : false,
				juz_8: $('.juz_8').is(':checked') ? true : false,
				juz_9: $('.juz_9').is(':checked') ? true : false,
				juz_10: $('.juz_10').is(':checked') ? true : false,
				juz_11: $('.juz_11').is(':checked') ? true : false,
				juz_12: $('.juz_12').is(':checked') ? true : false,
				juz_13: $('.juz_13').is(':checked') ? true : false,
				juz_14: $('.juz_14').is(':checked') ? true : false,
				juz_15: $('.juz_15').is(':checked') ? true : false,
				juz_16: $('.juz_16').is(':checked') ? true : false,
				juz_17: $('.juz_17').is(':checked') ? true : false,
				juz_18: $('.juz_18').is(':checked') ? true : false,
				juz_19: $('.juz_19').is(':checked') ? true : false,
				juz_20: $('.juz_20').is(':checked') ? true : false,
				juz_21: $('.juz_21').is(':checked') ? true : false,
				juz_22: $('.juz_22').is(':checked') ? true : false,
				juz_23: $('.juz_23').is(':checked') ? true : false,
				juz_24: $('.juz_24').is(':checked') ? true : false,
				juz_25: $('.juz_25').is(':checked') ? true : false,
				juz_26: $('.juz_26').is(':checked') ? true : false,
				juz_27: $('.juz_27').is(':checked') ? true : false,
				juz_28: $('.juz_28').is(':checked') ? true : false,
				juz_29: $('.juz_29').is(':checked') ? true : false,
				juz_30: $('.juz_30').is(':checked') ? true : false
			}).then(() => location.href = 'index.html')
		} else {
			odoj.data.add({
				juz_1: $('.juz_1').is(':checked') ? true : false,
				juz_2: $('.juz_2').is(':checked') ? true : false,
				juz_3: $('.juz_3').is(':checked') ? true : false,
				juz_4: $('.juz_4').is(':checked') ? true : false,
				juz_5: $('.juz_5').is(':checked') ? true : false,
				juz_6: $('.juz_6').is(':checked') ? true : false,
				juz_7: $('.juz_7').is(':checked') ? true : false,
				juz_8: $('.juz_8').is(':checked') ? true : false,
				juz_9: $('.juz_9').is(':checked') ? true : false,
				juz_10: $('.juz_10').is(':checked') ? true : false,
				juz_11: $('.juz_11').is(':checked') ? true : false,
				juz_12: $('.juz_12').is(':checked') ? true : false,
				juz_13: $('.juz_13').is(':checked') ? true : false,
				juz_14: $('.juz_14').is(':checked') ? true : false,
				juz_15: $('.juz_15').is(':checked') ? true : false,
				juz_16: $('.juz_16').is(':checked') ? true : false,
				juz_17: $('.juz_17').is(':checked') ? true : false,
				juz_18: $('.juz_18').is(':checked') ? true : false,
				juz_19: $('.juz_19').is(':checked') ? true : false,
				juz_20: $('.juz_20').is(':checked') ? true : false,
				juz_21: $('.juz_21').is(':checked') ? true : false,
				juz_22: $('.juz_22').is(':checked') ? true : false,
				juz_23: $('.juz_23').is(':checked') ? true : false,
				juz_24: $('.juz_24').is(':checked') ? true : false,
				juz_25: $('.juz_25').is(':checked') ? true : false,
				juz_26: $('.juz_26').is(':checked') ? true : false,
				juz_27: $('.juz_27').is(':checked') ? true : false,
				juz_28: $('.juz_28').is(':checked') ? true : false,
				juz_29: $('.juz_29').is(':checked') ? true : false,
				juz_30: $('.juz_30').is(':checked') ? true : false,
				bulan_dan_tahun: bulan_dan_tahun
			}).then(() => {
				semua_bulan_dan_tahun.push(bulan_dan_tahun)
				localStorage.setItem('bulan_dan_tahun', JSON.stringify(semua_bulan_dan_tahun))
				location.href = 'index.html'
			})
		}
	})
</script></div>
</body>
</html>